
            <!DOCTYPE html>
            <html lang="en">
            <head>
                <meta charset="UTF-8">
                <meta name="viewport" content="width=device-width, initial-scale=1.0">
                <title>GPU Profiling Report</title>
                <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"></script>
                <style>
                    body {{
                        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                        color: #333;
                        padding: 20px;
                    }}
                    .container {{
                        max-width: 1200px;
                        margin: 0 auto;
                        background: white;
                        border-radius: 10px;
                        padding: 30px;
                        box-shadow: 0 10px 40px rgba(0,0,0,0.2);
                    }}
                    h1 {{
                        color: #667eea;
                        border-bottom: 3px solid #667eea;
                        padding-bottom: 10px;
                    }}
                    h2 {{
                        color: #764ba2;
                        margin-top: 30px;
                    }}
                    .chart-container {{
                        position: relative;
                        height: 400px;
                        margin: 20px 0;
                        background: #f9f9f9;
                        border-radius: 8px;
                        padding: 20px;
                    }}
                    table {{
                        width: 100%;
                        border-collapse: collapse;
                        margin: 20px 0;
                    }}
                    th, td {{
                        padding: 12px;
                        text-align: left;
                        border-bottom: 1px solid #ddd;
                    }}
                    th {{
                        background-color: #667eea;
                        color: white;
                    }}
                    tr:hover {{
                        background-color: #f5f5f5;
                    }}
                    .info-box {{
                        background: #e3f2fd;
                        border-left: 4px solid #2196F3;
                        padding: 15px;
                        margin: 20px 0;
                        border-radius: 4px;
                    }}
                    .warning-box {{
                        background: #fff3e0;
                        border-left: 4px solid #ff9800;
                        padding: 15px;
                        margin: 20px 0;
                        border-radius: 4px;
                    }}
                    footer {{
                        margin-top: 40px;
                        padding-top: 20px;
                        border-top: 1px solid #ddd;
                        color: #666;
                        font-size: 12px;
                    }}
                </style>
            </head>
            <body>
                <div class="container">
                    <h1>üöÄ GPU Profiling Report</h1>
                    
                    <div class="info-box">
                        <strong>‚ÑπÔ∏è Report Generated:</strong> {pd.Timestamp.now().strftime('%Y-%m-%d %H:%M:%S')}<br>
                        <strong>Profile File:</strong> {nsys_file}<br>
                        <strong>Database:</strong> {db_file}
                    </div>
                    
                    <h2>Top CUDA Kernels</h2>
            
                    <table>
                        <tr>
                            <th>Kernel Name</th>
                            <th>Call Count</th>
                            <th>Total Duration (Œºs)</th>
                            <th>% of Total</th>
                        </tr>
            
                        <tr>
                            <td>void regular_fft_factor<(unsigned int)1024, EPT<(unsigned int)16>, (unsigned int)8, (unsigned int)0, (padding_t)14, (twiddle_t)0, (loadstore_modifier_t)2, (layout_t)1, unsigned int, float, HostConfigPlaceholder>(kernel_arguments_t<T9>)</td>
                            <td>132</td>
                            <td>31450.60</td>
                            <td>31.7%</td>
                        </tr>
                    
                        <tr>
                            <td>cupy_true_divide__complex64_complex_complex64</td>
                            <td>125</td>
                            <td>28913.72</td>
                            <td>29.2%</td>
                        </tr>
                    
                        <tr>
                            <td>cupy_multiply__complex64_complex64_complex64</td>
                            <td>145</td>
                            <td>13553.08</td>
                            <td>13.7%</td>
                        </tr>
                    
                        <tr>
                            <td>void regular_fft_factor<(unsigned int)2048, EPT<(unsigned int)16>, (unsigned int)4, (unsigned int)0, (padding_t)14, (twiddle_t)0, (loadstore_modifier_t)2, (layout_t)1, unsigned int, float, HostConfigPlaceholder>(kernel_arguments_t<T9>)</td>
                            <td>36</td>
                            <td>12500.68</td>
                            <td>12.6%</td>
                        </tr>
                    
                        <tr>
                            <td>void gen_sequenced<curandStateXORWOW, double2, normal_args_double_st, &curand_normal_scaled2_double<curandStateXORWOW>, rng_config<curandStateXORWOW, (curandOrdering)101>>(T1 *, T2 *, unsigned long long, unsigned long long, T3)</td>
                            <td>4</td>
                            <td>4035.49</td>
                            <td>4.1%</td>
                        </tr>
                    
                        <tr>
                            <td>cupy_conjugate__complex64_complex64</td>
                            <td>123</td>
                            <td>3679.37</td>
                            <td>3.7%</td>
                        </tr>
                    
                        <tr>
                            <td>cudapy::src::cuda_kernels::complex_multiply_kernel[abi:v1,cw51cXTLSUwv1sCUt9Ww0FEw09RRQPKiLTj0gIGIFp_2b2oLQFEYYkHSQB1OQAk0Bynm21OizQ1K0UoIGvDpQE8oxrNQE_3d](Array<complex64, (int)1, C, mutable, aligned>, Array<complex64, (int)1, C, mutable, aligned>, Array<complex64, (int)1, C, mutable, aligned>)</td>
                            <td>10</td>
                            <td>2401.21</td>
                            <td>2.4%</td>
                        </tr>
                    
                        <tr>
                            <td>void vector_fft<(unsigned int)2048, EPT<(unsigned int)16>, (unsigned int)2, (unsigned int)5, (padding_t)70, (twiddle_t)0, (loadstore_modifier_t)2, (layout_t)0, unsigned int, float, HostConfigPlaceholder>(kernel_arguments_t<T9>)</td>
                            <td>201</td>
                            <td>906.58</td>
                            <td>0.9%</td>
                        </tr>
                    
                        <tr>
                            <td>cupy_copy__float64_float32</td>
                            <td>4</td>
                            <td>484.38</td>
                            <td>0.5%</td>
                        </tr>
                    
                        <tr>
                            <td>cupy_add__float32_complex64_complex64</td>
                            <td>2</td>
                            <td>400.92</td>
                            <td>0.4%</td>
                        </tr>
                    
                        <tr>
                            <td>cupy_copy__complex64_complex64</td>
                            <td>2</td>
                            <td>323.29</td>
                            <td>0.3%</td>
                        </tr>
                    
                        <tr>
                            <td>cupy_multiply__complex_float32_complex64</td>
                            <td>2</td>
                            <td>240.48</td>
                            <td>0.2%</td>
                        </tr>
                    
                        <tr>
                            <td>void generate_seed_pseudo<rng_config<curandStateXORWOW, (curandOrdering)101>>(unsigned long long, unsigned long long, unsigned long long, curandOrdering, curandStateXORWOW *, unsigned int *)</td>
                            <td>1</td>
                            <td>240.41</td>
                            <td>0.2%</td>
                        </tr>
                    
                        <tr>
                            <td>void prime_fft_factor<(unsigned int)97, EPT<(unsigned int)2>, (unsigned int)8, (unsigned int)0, (unsigned int)1, (padding_t)14, (twiddle_t)0, (loadstore_modifier_t)2, (layout_t)1, unsigned int, float>(kernel_arguments_t<T10>)</td>
                            <td>3</td>
                            <td>18.18</td>
                            <td>0.0%</td>
                        </tr>
                    
                        <tr>
                            <td>void prime_fft_factor<(unsigned int)19, EPT<(unsigned int)2>, (unsigned int)8, (unsigned int)0, (unsigned int)1, (padding_t)14, (twiddle_t)0, (loadstore_modifier_t)2, (layout_t)1, unsigned int, float>(kernel_arguments_t<T10>)</td>
                            <td>3</td>
                            <td>11.65</td>
                            <td>0.0%</td>
                        </tr>
                    
                        <tr>
                            <td>void regular_fft_factor<(unsigned int)5, EPT<(unsigned int)5>, (unsigned int)256, (unsigned int)0, (padding_t)6, (twiddle_t)0, (loadstore_modifier_t)2, (layout_t)1, unsigned int, float, HostConfigPlaceholder>(kernel_arguments_t<T9>)</td>
                            <td>3</td>
                            <td>7.68</td>
                            <td>0.0%</td>
                        </tr>
                    
                    </table>
                    
                    <h2>üìä Performance Chart</h2>
                    <div class="chart-container">
                        <canvas id="kernelChart"></canvas>
                    </div>
                    
                    <h2>üí° Recommendations</h2>
                    <ul>
                        <li>Check hotspot kernels for optimization opportunities</li>
                        <li>Profile with larger datasets for more meaningful results</li>
                        <li>Use Nsight Compute for kernel-level analysis</li>
                        <li>Monitor memory bandwidth utilization</li>
                    </ul>
                    
                    <div class="warning-box">
                        <strong>üìù Note:</strong> For detailed timeline visualization, use:<br>
                        <code>nsys-ui {nsys_file}</code>
                    </div>
                    
                    <footer>
                        Generated by GPU Profiler | NVIDIA Nsight Systems {subprocess.run(['nsys', '--version'], capture_output=True, text=True).stdout.strip()}
                    </footer>
                </div>
                
                <script>
                    const ctx = document.getElementById('kernelChart').getContext('2d');
                    const labels = ["void regular_fft_factor<(unsig...", "cupy_true_divide__complex64_co...", "cupy_multiply__complex64_compl...", "void regular_fft_factor<(unsig...", "void gen_sequenced<curandState...", "cupy_conjugate__complex64_comp...", "cudapy::src::cuda_kernels::com...", "void vector_fft<(unsigned int)...", "cupy_copy__float64_float32", "cupy_add__float32_complex64_co..."];
                    const data = [31450.602, 28913.718, 13553.083, 12500.682, 4035.493, 3679.371, 2401.212, 906.577, 484.377, 400.922];
                    
                    new Chart(ctx, {
                        type: 'bar',
                        data: {
                            labels: labels,
                            datasets: [{
                                label: 'Duration (Œºs)',
                                data: data,
                                backgroundColor: '#667eea',
                                borderColor: '#764ba2',
                                borderWidth: 2
                            }]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            scales: {
                                y: {
                                    beginAtZero: true
                                }
                            }
                        }
                    });
                </script>
            </body>
            </html>
            